var M=Object.defineProperty,O=Object.defineProperties;var Q=Object.getOwnPropertyDescriptors;var N=Object.getOwnPropertySymbols;var U=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable;var R=(a,e,t)=>e in a?M(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,Y=(a,e)=>{for(var t in e||(e={}))U.call(e,t)&&R(a,t,e[t]);if(N)for(var t of N(e))W.call(e,t)&&R(a,t,e[t]);return a},T=(a,e)=>O(a,Q(e));import{D as X,S as Z,i as x,s as $,a1 as j,w as L,x as z,y as H,q as D,o as w,B as J,e as k,t as ee,k as P,c as C,a as y,h as te,d as b,m as q,b as E,g as ne,L as I,j as ae,n as re,p as se,N as oe,F as ie,R as le}from"./vendor-f58ccb3c.js";import ge from"./CategoryImage-a3c05f83.js";import{E as de}from"./_page_-6249f350.js";import"./category-store-95d00765.js";import"./preload-helper-e4860ae8.js";const me=()=>{const a={current_set:null,mouseYCoordinate:null,distanceTopGrabbedVsPointer:null,hoveredItemIndex:null,draggingItem:null,draggingItemId:null,draggingItemIndex:null,is_editing:!1},e=Y({},a),{subscribe:t,set:n,update:s}=X(a);return Y({subscribe:t,set:n,update:s},{dragend(u){s(d=>T(Y({},e),{is_editing:d.is_editing}))},dragover(u){s(d=>(d.hoveredItemIndex=u,d))},dragStart(u,d,v,f){s(l=>(l.is_editing=!0,l.current_set=f,l.mouseYCoordinate=u.clientY,l.draggingItem=d,l.draggingItemIndex=v,l.draggingItemId=d,l.distanceTopGrabbedVsPointer=u.target.getBoundingClientRect().y-u.clientY,l))},drag(u){s(d=>(d.mouseYCoordinate=u.clientY,d))}})};function A(a,e,t){const n=a.slice();return n[8]=e[t],n[10]=t,n}function F(a){let e,t;return e=new ge({props:{dragStore:a[6],set_id:a[2],index:a[10],img:a[8],page:a[1],column:a[3]}}),{c(){L(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,s){H(e,n,s),t=!0},p(n,s){const _={};s&4&&(_.set_id=n[2]),s&1&&(_.img=n[8]),s&2&&(_.page=n[1]),s&8&&(_.column=n[3]),e.$set(_)},i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){J(e,n)}}}function ce(a){let e,t,n,s=j.startCase(a[4])+"",_,u,d,v,f,l,g,h,S;l=new de({props:{images:a[0],belongs_to:"document",dragStore:a[6],data:a[1],column:a[3],set_id:a[2],options:a[5]}});let p=a[0],o=[];for(let r=0;r<p.length;r+=1)o[r]=F(A(a,p,r));const K=r=>w(o[r],1,1,()=>{o[r]=null});return{c(){e=k("div"),t=k("div"),n=k("span"),_=ee(s),u=P(),d=k("div"),v=P(),f=k("div"),L(l.$$.fragment),g=P(),h=k("div");for(let r=0;r<o.length;r+=1)o[r].c();this.h()},l(r){e=C(r,"DIV",{class:!0});var i=y(e);t=C(i,"DIV",{class:!0});var c=y(t);n=C(c,"SPAN",{class:!0});var m=y(n);_=te(m,s),m.forEach(b),u=q(c),d=C(c,"DIV",{class:!0}),y(d).forEach(b),v=q(c),f=C(c,"DIV",{class:!0});var V=y(f);z(l.$$.fragment,V),V.forEach(b),c.forEach(b),g=q(i),h=C(i,"DIV",{class:!0});var G=y(h);for(let B=0;B<o.length;B+=1)o[B].l(G);G.forEach(b),i.forEach(b),this.h()},h(){E(n,"class","category-name svelte-kkp2ry"),E(d,"class","list-group"),E(f,"class","edit-bar svelte-kkp2ry"),E(t,"class","top-bar svelte-kkp2ry"),E(h,"class","item-container svelte-kkp2ry"),E(e,"class","wrapper")},m(r,i){ne(r,e,i),I(e,t),I(t,n),I(n,_),I(t,u),I(t,d),I(t,v),I(t,f),H(l,f,null),I(e,g),I(e,h);for(let c=0;c<o.length;c+=1)o[c].m(h,null);S=!0},p(r,[i]){(!S||i&16)&&s!==(s=j.startCase(r[4])+"")&&ae(_,s);const c={};if(i&1&&(c.images=r[0]),i&2&&(c.data=r[1]),i&8&&(c.column=r[3]),i&4&&(c.set_id=r[2]),i&32&&(c.options=r[5]),l.$set(c),i&79){p=r[0];let m;for(m=0;m<p.length;m+=1){const V=A(r,p,m);o[m]?(o[m].p(V,i),D(o[m],1)):(o[m]=F(V),o[m].c(),D(o[m],1),o[m].m(h,null))}for(re(),m=p.length;m<o.length;m+=1)K(m);se()}},i(r){if(!S){D(l.$$.fragment,r);for(let i=0;i<p.length;i+=1)D(o[i]);S=!0}},o(r){w(l.$$.fragment,r),o=o.filter(Boolean);for(let i=0;i<o.length;i+=1)w(o[i]);S=!1},d(r){r&&b(e),J(l),oe(o,r)}}}function ue(a,e,t){let n,{images:s}=e,{page:_}=e,{set_id:u}=e,{column:d}=e,{set_name:v}=e,{options:f}=e;const l=me();return ie(a,l,g=>t(7,n=g)),s=s.sort((g,h)=>g.order-h.order),a.$$set=g=>{"images"in g&&t(0,s=g.images),"page"in g&&t(1,_=g.page),"set_id"in g&&t(2,u=g.set_id),"column"in g&&t(3,d=g.column),"set_name"in g&&t(4,v=g.set_name),"options"in g&&t(5,f=g.options)},a.$$.update=()=>{a.$$.dirty&129&&n.draggingItemIndex!==null&&n.hoveredItemIndex!==null&&(t(0,[s[n.draggingItemIndex],s[n.hoveredItemIndex]]=[s[n.hoveredItemIndex],s[n.draggingItemIndex]],s),le(l,n.draggingItemIndex=n.hoveredItemIndex,n))},[s,_,u,d,v,f,l,n]}class be extends Z{constructor(e){super();x(this,e,ue,ce,$,{images:0,page:1,set_id:2,column:3,set_name:4,options:5})}}export{be as default};

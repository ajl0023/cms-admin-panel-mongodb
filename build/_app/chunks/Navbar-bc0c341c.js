import{S as te,i as le,s as ae,l as L,g as A,d,e as g,t as V,k as E,c as b,a as k,h as D,m as w,b as y,Q as I,N as i,O as ee,I as M,P as W,H as X}from"./vendor-4a9258b4.js";import{g as oe}from"./navigation-0e6511d1.js";import{c as se,a as re}from"./category-store-9f0f87f3.js";import"./singletons-d1fb5791.js";function Y(o,e,a){const l=o.slice();return l[8]=e[a],l}function Z(o,e,a){const l=o.slice();return l[11]=e[a],l}function ce(o){let e,a=o[11].title+"",l,h,p;return{c(){e=g("a"),l=V(a),h=E(),this.h()},l(c){e=b(c,"A",{href:!0,class:!0});var r=k(e);l=D(r,a),h=w(r),r.forEach(d),this.h()},h(){y(e,"href",p="/page/"+o[11]._id),y(e,"class","nav-link border-0 border-bottom svelte-1auy9po"),I(e,"selected",o[3].category&&o[11].category===o[3].category.category)},m(c,r){A(c,e,r),i(e,l),i(e,h)},p(c,r){r&24&&I(e,"selected",c[3].category&&c[11].category===c[3].category.category)},d(c){c&&d(e)}}}function $(o){let e,a=o[11].visible&&ce(o);return{c(){a&&a.c(),e=L()},l(l){a&&a.l(l),e=L()},m(l,h){a&&a.m(l,h),A(l,e,h)},p(l,h){l[11].visible&&a.p(l,h)},d(l){a&&a.d(l),l&&d(e)}}}function x(o){let e,a=o[8]+"",l,h,p,c;function r(){return o[7](o[8])}return{c(){e=g("div"),l=V(a),h=E(),this.h()},l(_){e=b(_,"DIV",{class:!0});var v=k(e);l=D(v,a),h=w(v),v.forEach(d),this.h()},h(){y(e,"class","collection-button nav-link border-0 border-bottom svelte-1auy9po"),I(e,"selected",o[8]===o[2].collection)},m(_,v){A(_,e,v),i(e,l),i(e,h),p||(c=ee(e,"click",r),p=!0)},p(_,v){o=_,v&36&&I(e,"selected",o[8]===o[2].collection)},d(_){_&&d(e),p=!1,c()}}}function ie(o){let e,a,l,h,p,c,r,_,v,U,m,O,R,N,j,q,B,C,J,Q,P=o[4],f=[];for(let s=0;s<P.length;s+=1)f[s]=$(Z(o,P,s));let H=o[5],u=[];for(let s=0;s<H.length;s+=1)u[s]=x(Y(o,H,s));return{c(){e=g("div"),a=g("div"),l=g("h5"),h=V("Pages"),p=E(),c=g("div"),r=g("button"),_=V("Update Site"),v=E(),U=g("hr"),m=E(),O=g("nav");for(let s=0;s<f.length;s+=1)f[s].c();R=E(),N=g("h5"),j=V("Sites"),q=E(),B=g("hr"),C=E();for(let s=0;s<u.length;s+=1)u[s].c();this.h()},l(s){e=b(s,"DIV",{class:!0});var n=k(e);a=b(n,"DIV",{class:!0});var t=k(a);l=b(t,"H5",{class:!0});var S=k(l);h=D(S,"Pages"),S.forEach(d),p=w(t),c=b(t,"DIV",{class:!0});var z=k(c);r=b(z,"BUTTON",{class:!0});var F=k(r);_=D(F,"Update Site"),F.forEach(d),z.forEach(d),t.forEach(d),v=w(n),U=b(n,"HR",{}),m=w(n),O=b(n,"NAV",{class:!0});var G=k(O);for(let T=0;T<f.length;T+=1)f[T].l(G);G.forEach(d),R=w(n),N=b(n,"H5",{class:!0});var K=k(N);j=D(K,"Sites"),K.forEach(d),q=w(n),B=b(n,"HR",{}),C=w(n);for(let T=0;T<u.length;T+=1)u[T].l(n);n.forEach(d),this.h()},h(){y(l,"class","nav-title"),y(r,"class","btn btn-primary svelte-1auy9po"),I(r,"inactive",o[0]===!1),y(c,"class","update-site-container"),y(a,"class","nav-top-container svelte-1auy9po"),y(O,"class","nav flex-column"),y(N,"class","nav-title"),y(e,"class","nav-container border-1 border-end svelte-1auy9po")},m(s,n){A(s,e,n),i(e,a),i(a,l),i(l,h),i(a,p),i(a,c),i(c,r),i(r,_),i(e,v),i(e,U),i(e,m),i(e,O);for(let t=0;t<f.length;t+=1)f[t].m(O,null);i(e,R),i(e,N),i(N,j),i(e,q),i(e,B),i(e,C);for(let t=0;t<u.length;t+=1)u[t].m(e,null);J||(Q=ee(r,"click",o[6]),J=!0)},p(s,[n]){if(n&1&&I(r,"inactive",s[0]===!1),n&24){P=s[4];let t;for(t=0;t<P.length;t+=1){const S=Z(s,P,t);f[t]?f[t].p(S,n):(f[t]=$(S),f[t].c(),f[t].m(O,null))}for(;t<f.length;t+=1)f[t].d(1);f.length=P.length}if(n&36){H=s[5];let t;for(t=0;t<H.length;t+=1){const S=Y(s,H,t);u[t]?u[t].p(S,n):(u[t]=x(S),u[t].c(),u[t].m(e,null))}for(;t<u.length;t+=1)u[t].d(1);u.length=H.length}},i:M,o:M,d(s){s&&d(e),W(f,s),W(u,s),J=!1,Q()}}}function ne(o,e,a){let l,h;X(o,se,m=>a(2,l=m)),X(o,re,m=>a(3,h=m));const p=Object.keys(l.categories).map(m=>l.categories[m]),c=["maliview","aviator"];let r=!0,_;return[r,_,l,h,p,c,async()=>{clearTimeout(_),r&&(a(0,r=!1),await fetch("/api/netlify",{method:"POST"}),a(1,_=setTimeout(()=>{a(0,r=!0)},2e4)))},async m=>{await fetch("/api/logout",{method:"POST"}),await fetch("/api/collection",{method:"POST",body:JSON.stringify({collection:m})}),await oe("/"),window.location.reload()}]}class de extends te{constructor(e){super();le(this,e,ne,ie,ae,{})}}export{de as default};

import{S as te,i as le,s as ae,l as K,g as A,d,e as g,t as H,k as E,c as b,a as k,h as I,m as w,b as y,P as D,L as i,M as ee,G as Q,N as W,F as X}from"./vendor-f58ccb3c.js";import{g as oe}from"./navigation-0e6511d1.js";import{c as se,a as re}from"./category-store-95d00765.js";import"./singletons-d1fb5791.js";function Y(o,e,a){const l=o.slice();return l[8]=e[a],l}function Z(o,e,a){const l=o.slice();return l[11]=e[a],l}function ce(o){let e,a=o[11].title+"",l,h,p;return{c(){e=g("a"),l=H(a),h=E(),this.h()},l(c){e=b(c,"A",{href:!0,class:!0});var r=k(e);l=I(r,a),h=w(r),r.forEach(d),this.h()},h(){y(e,"href",p="/page/"+o[11]._id),y(e,"class","nav-link border-0 border-bottom svelte-1auy9po"),D(e,"selected",o[3].category&&o[11].category===o[3].category.category)},m(c,r){A(c,e,r),i(e,l),i(e,h)},p(c,r){r&24&&D(e,"selected",c[3].category&&c[11].category===c[3].category.category)},d(c){c&&d(e)}}}function $(o){let e,a=o[11].visible&&ce(o);return{c(){a&&a.c(),e=K()},l(l){a&&a.l(l),e=K()},m(l,h){a&&a.m(l,h),A(l,e,h)},p(l,h){l[11].visible&&a.p(l,h)},d(l){a&&a.d(l),l&&d(e)}}}function x(o){let e,a=o[8]+"",l,h,p,c;function r(){return o[7](o[8])}return{c(){e=g("div"),l=H(a),h=E(),this.h()},l(_){e=b(_,"DIV",{class:!0});var v=k(e);l=I(v,a),h=w(v),v.forEach(d),this.h()},h(){y(e,"class","collection-button nav-link border-0 border-bottom svelte-1auy9po"),D(e,"selected",o[8]===o[2].collection)},m(_,v){A(_,e,v),i(e,l),i(e,h),p||(c=ee(e,"click",r),p=!0)},p(_,v){o=_,v&36&&D(e,"selected",o[8]===o[2].collection)},d(_){_&&d(e),p=!1,c()}}}function ie(o){let e,a,l,h,p,c,r,_,v,U,m,T,R,O,j,q,B,C,F,G,P=o[4],f=[];for(let s=0;s<P.length;s+=1)f[s]=$(Z(o,P,s));let V=o[5],u=[];for(let s=0;s<V.length;s+=1)u[s]=x(Y(o,V,s));return{c(){e=g("div"),a=g("div"),l=g("h5"),h=H("Pages"),p=E(),c=g("div"),r=g("button"),_=H("Update Site"),v=E(),U=g("hr"),m=E(),T=g("nav");for(let s=0;s<f.length;s+=1)f[s].c();R=E(),O=g("h5"),j=H("Sites"),q=E(),B=g("hr"),C=E();for(let s=0;s<u.length;s+=1)u[s].c();this.h()},l(s){e=b(s,"DIV",{class:!0});var n=k(e);a=b(n,"DIV",{class:!0});var t=k(a);l=b(t,"H5",{class:!0});var S=k(l);h=I(S,"Pages"),S.forEach(d),p=w(t),c=b(t,"DIV",{class:!0});var J=k(c);r=b(J,"BUTTON",{class:!0});var L=k(r);_=I(L,"Update Site"),L.forEach(d),J.forEach(d),t.forEach(d),v=w(n),U=b(n,"HR",{}),m=w(n),T=b(n,"NAV",{class:!0});var M=k(T);for(let N=0;N<f.length;N+=1)f[N].l(M);M.forEach(d),R=w(n),O=b(n,"H5",{class:!0});var z=k(O);j=I(z,"Sites"),z.forEach(d),q=w(n),B=b(n,"HR",{}),C=w(n);for(let N=0;N<u.length;N+=1)u[N].l(n);n.forEach(d),this.h()},h(){y(l,"class","nav-title"),y(r,"class","btn btn-primary svelte-1auy9po"),D(r,"inactive",o[0]===!1),y(c,"class","update-site-container"),y(a,"class","nav-top-container svelte-1auy9po"),y(T,"class","nav flex-column"),y(O,"class","nav-title"),y(e,"class","nav-container border-1 border-end svelte-1auy9po")},m(s,n){A(s,e,n),i(e,a),i(a,l),i(l,h),i(a,p),i(a,c),i(c,r),i(r,_),i(e,v),i(e,U),i(e,m),i(e,T);for(let t=0;t<f.length;t+=1)f[t].m(T,null);i(e,R),i(e,O),i(O,j),i(e,q),i(e,B),i(e,C);for(let t=0;t<u.length;t+=1)u[t].m(e,null);F||(G=ee(r,"click",o[6]),F=!0)},p(s,[n]){if(n&1&&D(r,"inactive",s[0]===!1),n&24){P=s[4];let t;for(t=0;t<P.length;t+=1){const S=Z(s,P,t);f[t]?f[t].p(S,n):(f[t]=$(S),f[t].c(),f[t].m(T,null))}for(;t<f.length;t+=1)f[t].d(1);f.length=P.length}if(n&36){V=s[5];let t;for(t=0;t<V.length;t+=1){const S=Y(s,V,t);u[t]?u[t].p(S,n):(u[t]=x(S),u[t].c(),u[t].m(e,null))}for(;t<u.length;t+=1)u[t].d(1);u.length=V.length}},i:Q,o:Q,d(s){s&&d(e),W(f,s),W(u,s),F=!1,G()}}}function ne(o,e,a){let l,h;X(o,se,m=>a(2,l=m)),X(o,re,m=>a(3,h=m));const p=Object.keys(l.categories).map(m=>l.categories[m]),c=["maliview","aviator"];let r=!0,_;return[r,_,l,h,p,c,async()=>{clearTimeout(_),r&&(a(0,r=!1),await fetch("/api/netlify",{method:"POST"}),a(1,_=setTimeout(()=>{a(0,r=!0)},2e4)))},async m=>{await fetch("/api/logout",{method:"POST"}),await fetch("/api/collection",{method:"POST",body:JSON.stringify({collection:m})}),await oe("/"),window.location.reload()}]}class de extends te{constructor(e){super();le(this,e,ne,ie,ae,{})}}export{de as default};

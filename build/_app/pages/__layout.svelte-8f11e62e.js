var ae=Object.defineProperty;var J=Object.getOwnPropertySymbols;var re=Object.prototype.hasOwnProperty,ne=Object.prototype.propertyIsEnumerable;var K=(i,e,t)=>e in i?ae(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Q=(i,e)=>{for(var t in e||(e={}))re.call(e,t)&&K(i,t,e[t]);if(J)for(var t of J(e))ne.call(e,t)&&K(i,t,e[t]);return i};import{D as oe,S as B,i as I,s as H,l as U,g as N,e as x,t as T,c as k,a as _,h as j,d,b as c,F as v,j as ie,k as S,m as D,G as W,H as y,I as R,J as w,K as $,w as A,x as q,y as P,n as F,o as V,B as C,p as G,q as M,L as X,v as ce,M as he,N as ue,O as fe,P as de,Q as ge}from"../chunks/vendor-606c8cd8.js";import{h as pe,t as ve}from"../chunks/host-f5051734.js";const _e=()=>{const i={visible:!1,seleted:null},{subscribe:e,set:t,update:l}=oe(i);return Q({subscribe:e,set:t,update:l},{handleVisible(){l(a=>(a.visible=!0,a))}})},O=_e();function Y(i,e,t){const l=i.slice();return l[1]=e[t],l}function Z(i){let e,t=i[1].title+"",l,n;return{c(){e=x("a"),l=T(t),this.h()},l(a){e=k(a,"A",{href:!0,class:!0});var r=_(e);l=j(r,t),r.forEach(d),this.h()},h(){c(e,"href",n="/page/"+i[1]._id),c(e,"class","nav-link border-0 border-bottom svelte-9zh9lc")},m(a,r){N(a,e,r),v(e,l)},p(a,r){r&1&&t!==(t=a[1].title+"")&&ie(l,t),r&1&&n!==(n="/page/"+a[1]._id)&&c(e,"href",n)},d(a){a&&d(e)}}}function ee(i){let e,t=i[1].visible&&Z(i);return{c(){t&&t.c(),e=U()},l(l){t&&t.l(l),e=U()},m(l,n){t&&t.m(l,n),N(l,e,n)},p(l,n){l[1].visible?t?t.p(l,n):(t=Z(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(l){t&&t.d(l),l&&d(e)}}}function me(i){let e,t,l,n,a,r,s,f,o,m,g=i[0],u=[];for(let h=0;h<g.length;h+=1)u[h]=ee(Y(i,g,h));return{c(){e=x("div"),t=x("span"),l=T("Pages"),n=S(),a=x("nav");for(let h=0;h<u.length;h+=1)u[h].c();r=S(),s=x("button"),f=T("Add New Table"),this.h()},l(h){e=k(h,"DIV",{class:!0});var E=_(e);t=k(E,"SPAN",{});var p=_(t);l=j(p,"Pages"),p.forEach(d),n=D(E),a=k(E,"NAV",{class:!0});var b=_(a);for(let L=0;L<u.length;L+=1)u[L].l(b);r=D(b),s=k(b,"BUTTON",{class:!0});var z=_(s);f=j(z,"Add New Table"),z.forEach(d),b.forEach(d),E.forEach(d),this.h()},h(){c(s,"class","btn btn-primary"),c(a,"class","nav flex-column"),c(e,"class","nav-container border-1 border-end svelte-9zh9lc")},m(h,E){N(h,e,E),v(e,t),v(t,l),v(e,n),v(e,a);for(let p=0;p<u.length;p+=1)u[p].m(a,null);v(a,r),v(a,s),v(s,f),o||(m=W(s,"click",O.handleModal),o=!0)},p(h,[E]){if(E&1){g=h[0];let p;for(p=0;p<g.length;p+=1){const b=Y(h,g,p);u[p]?u[p].p(b,E):(u[p]=ee(b),u[p].c(),u[p].m(a,r))}for(;p<u.length;p+=1)u[p].d(1);u.length=g.length}},i:y,o:y,d(h){h&&d(e),R(u,h),o=!1,m()}}}function be(i,e,t){let{pages:l}=e;return i.$$set=n=>{"pages"in n&&t(0,l=n.pages)},[l]}class we extends B{constructor(e){super();I(this,e,be,me,H,{pages:0})}}function $e(i){let e,t,l;return{c(){e=w("svg"),t=w("path"),l=w("path"),this.h()},l(n){e=$(n,"svg",{xmlns:!0,height:!0,viewBox:!0,width:!0,fill:!0});var a=_(e);t=$(a,"path",{d:!0,fill:!0}),_(t).forEach(d),l=$(a,"path",{d:!0}),_(l).forEach(d),a.forEach(d),this.h()},h(){c(t,"d","M0 0h24v24H0z"),c(t,"fill","none"),c(l,"d","M17 7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h10c2.76 0 5-2.24 5-5s-2.24-5-5-5zm0 8c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"height","24px"),c(e,"viewBox","0 0 24 24"),c(e,"width","24px"),c(e,"fill","#000000")},m(n,a){N(n,e,a),v(e,t),v(e,l)},p:y,i:y,o:y,d(n){n&&d(e)}}}class Ee extends B{constructor(e){super();I(this,e,null,$e,H,{})}}function ye(i){let e,t,l;return{c(){e=w("svg"),t=w("path"),l=w("path"),this.h()},l(n){e=$(n,"svg",{xmlns:!0,height:!0,viewBox:!0,width:!0,fill:!0});var a=_(e);t=$(a,"path",{d:!0,fill:!0}),_(t).forEach(d),l=$(a,"path",{d:!0}),_(l).forEach(d),a.forEach(d),this.h()},h(){c(t,"d","M0 0h24v24H0z"),c(t,"fill","none"),c(l,"d","M2 6H0v5h.01L0 20c0 1.1.9 2 2 2h18v-2H2V6zm20-2h-8l-2-2H6c-1.1 0-1.99.9-1.99 2L4 16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM7 15l4.5-6 3.5 4.51 2.5-3.01L21 15H7z"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"height","24px"),c(e,"viewBox","0 0 24 24"),c(e,"width","24px"),c(e,"fill","#000000")},m(n,a){N(n,e,a),v(e,t),v(e,l)},p:y,i:y,o:y,d(n){n&&d(e)}}}class xe extends B{constructor(e){super();I(this,e,null,ye,H,{})}}function ke(i){let e,t,l,n,a;return{c(){e=w("svg"),t=w("g"),l=w("rect"),n=w("g"),a=w("path"),this.h()},l(r){e=$(r,"svg",{xmlns:!0,"enable-background":!0,height:!0,viewBox:!0,width:!0,fill:!0});var s=_(e);t=$(s,"g",{});var f=_(t);l=$(f,"rect",{fill:!0,height:!0,width:!0}),_(l).forEach(d),f.forEach(d),n=$(s,"g",{});var o=_(n);a=$(o,"path",{d:!0}),_(a).forEach(d),o.forEach(d),s.forEach(d),this.h()},h(){c(l,"fill","none"),c(l,"height","24"),c(l,"width","24"),c(a,"d","M20.5,10L21,8h-4l1-4h-2l-1,4h-4l1-4h-2L9,8H5l-0.5,2h4l-1,4h-4L3,16h4l-1,4h2l1-4h4l-1,4h2l1-4h4l0.5-2h-4l1-4H20.5z M13.5,14h-4l1-4h4L13.5,14z"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"enable-background","new 0 0 24 24"),c(e,"height","24px"),c(e,"viewBox","0 0 24 24"),c(e,"width","24px"),c(e,"fill","#000000")},m(r,s){N(r,e,s),v(e,t),v(t,l),v(e,n),v(n,a)},p:y,i:y,o:y,d(r){r&&d(e)}}}class Me extends B{constructor(e){super();I(this,e,null,ke,H,{})}}function Ne(i){let e,t,l,n,a,r,s;return{c(){e=w("svg"),t=w("g"),l=w("rect"),n=w("g"),a=w("g"),r=w("g"),s=w("path"),this.h()},l(f){e=$(f,"svg",{xmlns:!0,"enable-background":!0,height:!0,viewBox:!0,width:!0,fill:!0});var o=_(e);t=$(o,"g",{});var m=_(t);l=$(m,"rect",{fill:!0,height:!0,width:!0}),_(l).forEach(d),m.forEach(d),n=$(o,"g",{});var g=_(n);a=$(g,"g",{});var u=_(a);r=$(u,"g",{});var h=_(r);s=$(h,"path",{d:!0}),_(s).forEach(d),h.forEach(d),u.forEach(d),g.forEach(d),o.forEach(d),this.h()},h(){c(l,"fill","none"),c(l,"height","24"),c(l,"width","24"),c(s,"d","M2.5,4v3h5v12h3V7h5V4H2.5z M21.5,9h-9v3h3v7h3v-7h3V9z"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"enable-background","new 0 0 24 24"),c(e,"height","24px"),c(e,"viewBox","0 0 24 24"),c(e,"width","24px"),c(e,"fill","#000000")},m(f,o){N(f,e,o),v(e,t),v(t,l),v(e,n),v(n,a),v(a,r),v(r,s)},p:y,i:y,o:y,d(f){f&&d(e)}}}class Ve extends B{constructor(e){super();I(this,e,null,Ne,H,{})}}function te(i,e,t){const l=i.slice();return l[4]=e[t],l}function le(i){let e,t,l=i[4].label+"",n,a,r,s,f,o,m,g;var u=i[4].img;function h(p){return{}}u&&(s=new u(h()));function E(){return i[2](i[4])}return{c(){e=x("div"),t=x("span"),n=T(l),a=S(),r=x("div"),s&&A(s.$$.fragment),f=S(),this.h()},l(p){e=k(p,"DIV",{class:!0});var b=_(e);t=k(b,"SPAN",{class:!0});var z=_(t);n=j(z,l),z.forEach(d),a=D(b),r=k(b,"DIV",{class:!0});var L=_(r);s&&q(s.$$.fragment,L),L.forEach(d),f=D(b),b.forEach(d),this.h()},h(){c(t,"class","type-label"),c(r,"class","image-container mt-1"),c(e,"class","type-container border p-2 svelte-1gowmhp")},m(p,b){N(p,e,b),v(e,t),v(t,n),v(e,a),v(e,r),s&&P(s,r,null),v(e,f),o=!0,m||(g=W(e,"click",E),m=!0)},p(p,b){if(i=p,u!==(u=i[4].img)){if(s){F();const z=s;V(z.$$.fragment,1,0,()=>{C(z,1)}),G()}u?(s=new u(h()),A(s.$$.fragment),M(s.$$.fragment,1),P(s,r,null)):s=null}},i(p){o||(s&&M(s.$$.fragment,p),o=!0)},o(p){s&&V(s.$$.fragment,p),o=!1},d(p){p&&d(e),s&&C(s),m=!1,g()}}}function ze(i){let e,t,l,n,a,r,s,f=i[1],o=[];for(let g=0;g<f.length;g+=1)o[g]=le(te(i,f,g));const m=g=>V(o[g],1,1,()=>{o[g]=null});return{c(){e=x("div"),t=x("div"),l=x("h5"),n=T("Select Columns"),a=S(),r=x("div");for(let g=0;g<o.length;g+=1)o[g].c();this.h()},l(g){e=k(g,"DIV",{class:!0});var u=_(e);t=k(u,"DIV",{class:!0});var h=_(t);l=k(h,"H5",{class:!0});var E=_(l);n=j(E,"Select Columns"),E.forEach(d),a=D(h),r=k(h,"DIV",{class:!0});var p=_(r);for(let b=0;b<o.length;b+=1)o[b].l(p);p.forEach(d),h.forEach(d),u.forEach(d),this.h()},h(){c(l,"class","main-header mb-3"),c(r,"class","type-wrapper svelte-1gowmhp"),c(t,"class","main-container p-3 svelte-1gowmhp"),c(e,"class","wrapper svelte-1gowmhp")},m(g,u){N(g,e,u),v(e,t),v(t,l),v(l,n),v(t,a),v(t,r);for(let h=0;h<o.length;h+=1)o[h].m(r,null);s=!0},p(g,[u]){if(u&3){f=g[1];let h;for(h=0;h<f.length;h+=1){const E=te(g,f,h);o[h]?(o[h].p(E,u),M(o[h],1)):(o[h]=le(E),o[h].c(),M(o[h],1),o[h].m(r,null))}for(F(),h=f.length;h<o.length;h+=1)m(h);G()}},i(g){if(!s){for(let u=0;u<f.length;u+=1)M(o[u]);s=!0}},o(g){o=o.filter(Boolean);for(let u=0;u<o.length;u+=1)V(o[u]);s=!1},d(g){g&&d(e),R(o,g)}}}function Be(i,e,t){let l;X(i,O,s=>t(0,l=s));const n={boolean:{img:Ee,label:"Boolean",options:[{type:"input",label:"Name"}],type:"boolean"},media:{img:xe,label:"Media",options:[{type:"input",label:"Name"},{type:"check-box",label:"Will this column contain many images?"}],type:"media"},number:{img:Me,type:"Integer",label:"Number",options:[{type:"input",label:"Name"}]},text:{img:Ve,type:"string",label:"Text",options:[{type:"input",label:"Name"}]}},a=Object.keys(n).map(s=>n[s]);return ce(async()=>{await(await fetch("http://localhost:3000/api/templates")).json()}),[l,a,s=>{he(O,l.seleted=s,l)}]}class Ie extends B{constructor(e){super();I(this,e,Be,ze,H,{})}}function se(i){let e,t;return e=new Ie({}),{c(){A(e.$$.fragment)},l(l){q(e.$$.fragment,l)},m(l,n){P(e,l,n),t=!0},i(l){t||(M(e.$$.fragment,l),t=!0)},o(l){V(e.$$.fragment,l),t=!1},d(l){C(e,l)}}}function He(i){let e,t,l,n,a,r=i[1].visible&&se();l=new we({props:{pages:i[0]}});const s=i[3].default,f=ue(s,i,i[2],null);return{c(){e=x("div"),r&&r.c(),t=S(),A(l.$$.fragment),n=S(),f&&f.c(),this.h()},l(o){e=k(o,"DIV",{class:!0});var m=_(e);r&&r.l(m),t=D(m),q(l.$$.fragment,m),n=D(m),f&&f.l(m),m.forEach(d),this.h()},h(){c(e,"class","wrapper svelte-hkifws")},m(o,m){N(o,e,m),r&&r.m(e,null),v(e,t),P(l,e,null),v(e,n),f&&f.m(e,null),a=!0},p(o,[m]){o[1].visible?r?m&2&&M(r,1):(r=se(),r.c(),M(r,1),r.m(e,t)):r&&(F(),V(r,1,1,()=>{r=null}),G());const g={};m&1&&(g.pages=o[0]),l.$set(g),f&&f.p&&(!a||m&4)&&fe(f,s,o,o[2],a?ge(s,o[2],m,null):de(o[2]),null)},i(o){a||(M(r),M(l.$$.fragment,o),M(f,o),a=!0)},o(o){V(r),V(l.$$.fragment,o),V(f,o),a=!1},d(o){o&&d(e),r&&r.d(),C(l),f&&f.d(o)}}}async function je({params:i,fetch:e,session:t,stuff:l}){const n=await e(`${pe}/api/categories`),a=await n.json(),r=a.reduce((s,f)=>(s[f._id]=f,s),{});return ve.update(s=>(s.categories=r,s)),n.ok?{props:{pages:a}}:{status:n.status,error:new Error(`Could not load ${url}`)}}function Se(i,e,t){let l;X(i,O,s=>t(1,l=s));let{$$slots:n={},$$scope:a}=e,{pages:r}=e;return i.$$set=s=>{"pages"in s&&t(0,r=s.pages),"$$scope"in s&&t(2,a=s.$$scope)},[r,l,a,n]}class Ae extends B{constructor(e){super();I(this,e,Se,He,H,{pages:0})}}export{Ae as default,je as load};

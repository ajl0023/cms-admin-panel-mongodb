var Je=Object.defineProperty;var ce=Object.getOwnPropertySymbols;var Ke=Object.prototype.hasOwnProperty,Qe=Object.prototype.propertyIsEnumerable;var fe=(o,t,n)=>t in o?Je(o,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[t]=n,x=(o,t)=>{for(var n in t||(t={}))Ke.call(t,n)&&fe(o,n,t[n]);if(ce)for(var n of ce(t))Qe.call(t,n)&&fe(o,n,t[n]);return o};import{D as ue,S as W,i as J,s as K,l as M,g as D,d as _,e as I,k as N,t as B,c as k,a as $,m as S,h as G,b as d,F as v,G as Q,H as X,I as F,R as Xe,L as ee,v as te,E as Ze,T as he,U as xe,M as ae,V as de,j as R,W as L,_ as re,q as P,w as O,x as Z,y as H,o as T,B as z,n as U,p as Y}from"../../chunks/vendor-1afa7739.js";import{t as se,h as oe}from"../../chunks/host-dd59fdff.js";const et=()=>{const o={visible:!1,content:null,inputs:{},files:{}},{subscribe:t,set:n,update:e}=ue(o);return x({subscribe:t,set:n,update:e},{handleVisible(i){e(a=>(a.content=i,a.visible=!0,a))}})},j=et();function _e(o,t,n){const e=o.slice();return e[11]=t[n],e[12]=t,e[13]=n,e}function tt(o){let t,n,e=o[11].client_label+"",l,i,a,r,s,f;function u(){o[6].call(r,o[11])}return{c(){t=I("div"),n=I("label"),l=B(e),a=N(),r=I("input"),this.h()},l(c){t=k(c,"DIV",{class:!0});var p=$(t);n=k(p,"LABEL",{for:!0,class:!0});var h=$(n);l=G(h,e),h.forEach(_),a=S(p),r=k(p,"INPUT",{class:!0,placeholder:!0}),p.forEach(_),this.h()},h(){d(n,"for",i=o[11].name),d(n,"class","form-label"),d(r,"class","form-control"),d(r,"placeholder",""),d(t,"class","form-field svelte-1o0p388")},m(c,p){D(c,t,p),v(t,n),v(n,l),v(t,a),v(t,r),de(r,o[2].inputs[o[11].lowerCase]),s||(f=Q(r,"input",u),s=!0)},p(c,p){o=c,p&1&&e!==(e=o[11].client_label+"")&&R(l,e),p&1&&i!==(i=o[11].name)&&d(n,"for",i),p&5&&r.value!==o[2].inputs[o[11].lowerCase]&&de(r,o[2].inputs[o[11].lowerCase])},d(c){c&&_(t),s=!1,f()}}}function lt(o){let t,n,e=o[11].client_label+"",l,i,a,r,s,f,u;function c(){o[5].call(r,o[11])}return{c(){t=I("div"),n=I("label"),l=B(e),a=N(),r=I("input"),this.h()},l(p){t=k(p,"DIV",{class:!0});var h=$(t);n=k(h,"LABEL",{for:!0,class:!0});var g=$(n);l=G(g,e),g.forEach(_),a=S(h),r=k(h,"INPUT",{name:!0,class:!0,type:!0,id:!0}),h.forEach(_),this.h()},h(){d(n,"for",i=o[11].name),d(n,"class","form-label"),d(r,"name",s=o[11].name),d(r,"class","form-control"),d(r,"type","file"),d(r,"id","formFile"),d(t,"class","form-field svelte-1o0p388")},m(p,h){D(p,t,h),v(t,n),v(n,l),v(t,a),v(t,r),f||(u=Q(r,"change",c),f=!0)},p(p,h){o=p,h&1&&e!==(e=o[11].client_label+"")&&R(l,e),h&1&&i!==(i=o[11].name)&&d(n,"for",i),h&1&&s!==(s=o[11].name)&&d(r,"name",s)},d(p){p&&_(t),f=!1,u()}}}function nt(o){let t,n,e=o[11].client_label+"",l,i,a,r,s,f,u;function c(){o[4].call(r,o[11])}return{c(){t=I("div"),n=I("label"),l=B(e),a=N(),r=I("input"),this.h()},l(p){t=k(p,"DIV",{class:!0});var h=$(t);n=k(h,"LABEL",{for:!0,class:!0});var g=$(n);l=G(g,e),g.forEach(_),a=S(h),r=k(h,"INPUT",{class:!0,type:!0,name:!0,id:!0}),h.forEach(_),this.h()},h(){d(n,"for",i=o[11].name),d(n,"class","form-label"),d(r,"class","form-control"),d(r,"type","file"),d(r,"name",s=o[11].name),d(r,"id","formFileMultiple"),r.multiple=!0,d(t,"class","form-field svelte-1o0p388")},m(p,h){D(p,t,h),v(t,n),v(n,l),v(t,a),v(t,r),f||(u=Q(r,"change",c),f=!0)},p(p,h){o=p,h&1&&e!==(e=o[11].client_label+"")&&R(l,e),h&1&&i!==(i=o[11].name)&&d(n,"for",i),h&1&&s!==(s=o[11].name)&&d(r,"name",s)},d(p){p&&_(t),f=!1,u()}}}function ge(o){let t;function n(i,a){return i[11].type==="media"&&i[11].multi?nt:i[11].type==="media"&&!i[11].multi?lt:tt}let e=n(o),l=e(o);return{c(){l.c(),t=M()},l(i){l.l(i),t=M()},m(i,a){l.m(i,a),D(i,t,a)},p(i,a){e===(e=n(i))&&l?l.p(i,a):(l.d(1),l=e(i),l&&(l.c(),l.m(t.parentNode,t)))},d(i){l.d(i),i&&_(t)}}}function at(o){let t,n,e,l,i,a,r,s,f,u=o[0],c=[];for(let p=0;p<u.length;p+=1)c[p]=ge(_e(o,u,p));return{c(){t=I("div"),n=I("div"),e=I("form");for(let p=0;p<c.length;p+=1)c[p].c();l=N(),i=I("div"),a=I("button"),r=B("Submit"),this.h()},l(p){t=k(p,"DIV",{class:!0});var h=$(t);n=k(h,"DIV",{class:!0});var g=$(n);e=k(g,"FORM",{class:!0,id:!0,action:!0});var m=$(e);for(let y=0;y<c.length;y+=1)c[y].l(m);l=S(m),i=k(m,"DIV",{class:!0});var b=$(i);a=k(b,"BUTTON",{type:!0,class:!0});var w=$(a);r=G(w,"Submit"),w.forEach(_),b.forEach(_),m.forEach(_),g.forEach(_),h.forEach(_),this.h()},h(){d(a,"type","button"),d(a,"class","btn btn-primary mb-3"),d(i,"class","col-auto"),d(e,"class","row g-3"),d(e,"id","entry-form"),d(e,"action",""),d(n,"class","form-container svelte-1o0p388"),d(t,"class","wrapper svelte-1o0p388")},m(p,h){D(p,t,h),v(t,n),v(n,e);for(let g=0;g<c.length;g+=1)c[g].m(e,null);v(e,l),v(e,i),v(i,a),v(a,r),o[7](e),s||(f=[Q(a,"click",o[3]),Q(n,"click",rt),Q(t,"click",o[8])],s=!0)},p(p,[h]){if(h&5){u=p[0];let g;for(g=0;g<u.length;g+=1){const m=_e(p,u,g);c[g]?c[g].p(m,h):(c[g]=ge(m),c[g].c(),c[g].m(e,l))}for(;g<c.length;g+=1)c[g].d(1);c.length=u.length}},i:X,o:X,d(p){p&&_(t),F(c,p),o[7](null),s=!1,Xe(f)}}}const rt=o=>{o.stopPropagation()};function st(o,t,n){let e,l;ee(o,se,h=>n(9,e=h)),ee(o,j,h=>n(2,l=h));let i=[],a;te(async()=>{const h=l.content;console.log(e.currentTable.category);const g=e.currentTable.category==="mobile"?e.categories[h.category].editableFields_mobile:e.categories[h.category].editableFields;n(0,i=g),console.log(e,"fields"),await Ze()});const r=async()=>{const h=new FormData(a),g=l.content._id;if(console.log(l.content._id),h.append("_id",g),l.content.page==="behind-the-scenes"){const m=l.content.phase;h.append("phase",m),await he.put(`${oe}/api/${e.currentTable.category}/behind-the-scenes`,h);return}await he.put(`${oe}/api/${e.currentTable.category}`,h)};function s(h){l.files[h.lowerCase]=this.files,j.set(l)}function f(h){l.files[h.lowerCase]=this.files,j.set(l)}function u(h){l.inputs[h.lowerCase]=this.value,j.set(l)}function c(h){xe[h?"unshift":"push"](()=>{a=h,n(1,a)})}return[i,a,l,r,s,f,u,c,()=>{ae(j,l.visible=!1,l)}]}class it extends W{constructor(t){super();J(this,t,st,at,K,{})}}const ot=()=>{const o={mouseYCoordinate:null,distanceTopGrabbedVsPointer:null,hoveredItemIndex:null,draggingItem:null,draggingItemId:null,draggingItemIndex:null},{subscribe:t,set:n,update:e}=ue(o);return x({subscribe:t,set:n,update:e},{dragend(i){e(a=>(a.draggingItemId=null,a.hoveredItemIndex=null,a))},dragover(i){e(a=>(a.hoveredItemIndex=i,a))},dragStart(i,a,r){e(s=>(s.mouseYCoordinate=i.clientY,s.draggingItem=a,s.draggingItemIndex=r,s.draggingItemId=a,s.distanceTopGrabbedVsPointer=i.target.getBoundingClientRect().y-i.clientY,s))},drag(i){e(a=>(a.mouseYCoordinate=i.clientY,a))}})},me=ot();function pe(o,t,n){const e=o.slice();return e[4]=t[n],e}function ve(o){let t,n=o[0],e=[];for(let l=0;l<n.length;l+=1)e[l]=be(pe(o,n,l));return{c(){for(let l=0;l<e.length;l+=1)e[l].c();t=M()},l(l){for(let i=0;i<e.length;i+=1)e[i].l(l);t=M()},m(l,i){for(let a=0;a<e.length;a+=1)e[a].m(l,i);D(l,t,i)},p(l,i){if(i&7){n=l[0];let a;for(a=0;a<n.length;a+=1){const r=pe(l,n,a);e[a]?e[a].p(r,i):(e[a]=be(r),e[a].c(),e[a].m(t.parentNode,t))}for(;a<e.length;a+=1)e[a].d(1);e.length=n.length}},d(l){F(e,l),l&&_(t)}}}function be(o){let t,n=o[4]+"",e,l,i,a;return{c(){t=I("button"),e=B(n),l=N(),this.h()},l(r){t=k(r,"BUTTON",{class:!0});var s=$(t);e=G(s,n),l=S(s),s.forEach(_),this.h()},h(){d(t,"class","btn btn-primary")},m(r,s){D(r,t,s),v(t,e),v(t,l),i||(a=Q(t,"click",o[3]),i=!0)},p(r,s){s&1&&n!==(n=r[4]+"")&&R(e,n)},d(r){r&&_(t),i=!1,a()}}}function ct(o){let t,n=o[0]&&ve(o);return{c(){t=I("div"),n&&n.c(),this.h()},l(e){t=k(e,"DIV",{class:!0});var l=$(t);n&&n.l(l),l.forEach(_),this.h()},h(){d(t,"class","wrapper")},m(e,l){D(e,t,l),n&&n.m(t,null)},p(e,[l]){e[0]?n?n.p(e,l):(n=ve(e),n.c(),n.m(t,null)):n&&(n.d(1),n=null)},i:X,o:X,d(e){e&&_(t),n&&n.d()}}}function ft(o,t,n){let e;ee(o,j,r=>n(2,e=r));let{options:l}=t,{data:i}=t;const a=()=>{ae(j,e.visible=!0,e),ae(j,e.content=i,e)};return o.$$set=r=>{"options"in r&&n(0,l=r.options),"data"in r&&n(1,i=r.data)},[l,i,e,a]}class le extends W{constructor(t){super();J(this,t,ft,ct,K,{options:0,data:1})}}function Ie(o,t,n){const e=o.slice();return e[3]=t[n],e}function ke(o){let t,n,e=re.startCase(o[3].page)+"",l,i,a,r,s,f,u,c;function p(){return o[2](o[3])}return{c(){t=I("div"),n=I("div"),l=B(e),i=N(),a=I("div"),r=I("img"),f=N(),this.h()},l(h){t=k(h,"DIV",{class:!0});var g=$(t);n=k(g,"DIV",{class:!0});var m=$(n);l=G(m,e),m.forEach(_),i=S(g),a=k(g,"DIV",{class:!0});var b=$(a);r=k(b,"IMG",{src:!0,alt:!0,class:!0}),b.forEach(_),f=S(g),g.forEach(_),this.h()},h(){d(n,"class","page-title"),L(r.src,s=o[3].url)||d(r,"src",s),d(r,"alt",""),d(r,"class","svelte-177pmu9"),d(a,"class","image-container svelte-177pmu9"),d(t,"class","item-container")},m(h,g){D(h,t,g),v(t,n),v(n,l),v(t,i),v(t,a),v(a,r),v(t,f),u||(c=Q(t,"click",p),u=!0)},p(h,g){o=h,g&1&&e!==(e=re.startCase(o[3].page)+"")&&R(l,e),g&1&&!L(r.src,s=o[3].url)&&d(r,"src",s)},d(h){h&&_(t),u=!1,c()}}}function $e(o){let t,n=o[1].currentTable.type==="bg-image"&&ke(o);return{c(){n&&n.c(),t=M()},l(e){n&&n.l(e),t=M()},m(e,l){n&&n.m(e,l),D(e,t,l)},p(e,l){e[1].currentTable.type==="bg-image"?n?n.p(e,l):(n=ke(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&_(t)}}}function ut(o){let t,n=o[0],e=[];for(let l=0;l<n.length;l+=1)e[l]=$e(Ie(o,n,l));return{c(){for(let l=0;l<e.length;l+=1)e[l].c();t=M()},l(l){for(let i=0;i<e.length;i+=1)e[i].l(l);t=M()},m(l,i){for(let a=0;a<e.length;a+=1)e[a].m(l,i);D(l,t,i)},p(l,[i]){if(i&3){n=l[0];let a;for(a=0;a<n.length;a+=1){const r=Ie(l,n,a);e[a]?e[a].p(r,i):(e[a]=$e(r),e[a].c(),e[a].m(t.parentNode,t))}for(;a<e.length;a+=1)e[a].d(1);e.length=n.length}},i:X,o:X,d(l){F(e,l),l&&_(t)}}}function ht(o,t,n){let e;ee(o,se,a=>n(1,e=a));let{pages:l}=t;te(async()=>{});const i=a=>{j.handleVisible(a)};return o.$$set=a=>{"pages"in a&&n(0,l=a.pages)},[l,e,i]}class dt extends W{constructor(t){super();J(this,t,ht,ut,K,{pages:0})}}function Ee(o,t,n){const e=o.slice();return e[1]=t[n],e}function we(o,t,n){const e=o.slice();return e[4]=t[n],e}function ye(o){let t,n,e=o[0],l=[];for(let a=0;a<e.length;a+=1)l[a]=Ve(Ee(o,e,a));const i=a=>T(l[a],1,1,()=>{l[a]=null});return{c(){for(let a=0;a<l.length;a+=1)l[a].c();t=M()},l(a){for(let r=0;r<l.length;r+=1)l[r].l(a);t=M()},m(a,r){for(let s=0;s<l.length;s+=1)l[s].m(a,r);D(a,t,r),n=!0},p(a,r){if(r&1){e=a[0];let s;for(s=0;s<e.length;s+=1){const f=Ee(a,e,s);l[s]?(l[s].p(f,r),P(l[s],1)):(l[s]=Ve(f),l[s].c(),P(l[s],1),l[s].m(t.parentNode,t))}for(U(),s=e.length;s<l.length;s+=1)i(s);Y()}},i(a){if(!n){for(let r=0;r<e.length;r+=1)P(l[r]);n=!0}},o(a){l=l.filter(Boolean);for(let r=0;r<l.length;r+=1)T(l[r]);n=!1},d(a){F(l,a),a&&_(t)}}}function De(o){let t,n,e,l;return{c(){t=I("div"),n=I("img"),l=N(),this.h()},l(i){t=k(i,"DIV",{class:!0});var a=$(t);n=k(a,"IMG",{src:!0,alt:!0,class:!0}),l=S(a),a.forEach(_),this.h()},h(){L(n.src,e=o[4].url)||d(n,"src",e),d(n,"alt",""),d(n,"class","svelte-mcph04"),d(t,"class","image-container svelte-mcph04")},m(i,a){D(i,t,a),v(t,n),v(t,l)},p(i,a){a&1&&!L(n.src,e=i[4].url)&&d(n,"src",e)},d(i){i&&_(t)}}}function Ve(o){let t,n,e,l,i=o[1].phase+"",a,r,s,f,u,c,p,h;f=new le({props:{data:o[1],options:["Add Photos"]}});let g=o[1].images,m=[];for(let b=0;b<g.length;b+=1)m[b]=De(we(o,g,b));return{c(){t=I("div"),n=I("div"),e=I("span"),l=B("Phase "),a=B(i),r=N(),s=I("div"),O(f.$$.fragment),u=N(),c=I("div");for(let b=0;b<m.length;b+=1)m[b].c();p=N(),this.h()},l(b){t=k(b,"DIV",{class:!0});var w=$(t);n=k(w,"DIV",{class:!0});var y=$(n);e=k(y,"SPAN",{});var E=$(e);l=G(E,"Phase "),a=G(E,i),E.forEach(_),r=S(y),s=k(y,"DIV",{class:!0});var A=$(s);Z(f.$$.fragment,A),A.forEach(_),y.forEach(_),u=S(w),c=k(w,"DIV",{class:!0});var V=$(c);for(let C=0;C<m.length;C+=1)m[C].l(V);V.forEach(_),p=S(w),w.forEach(_),this.h()},h(){d(s,"class","edit-bar svelte-mcph04"),d(n,"class","top-bar svelte-mcph04"),d(c,"class","images-container svelte-mcph04"),d(t,"class","phase-container svelte-mcph04")},m(b,w){D(b,t,w),v(t,n),v(n,e),v(e,l),v(e,a),v(n,r),v(n,s),H(f,s,null),v(t,u),v(t,c);for(let y=0;y<m.length;y+=1)m[y].m(c,null);v(t,p),h=!0},p(b,w){(!h||w&1)&&i!==(i=b[1].phase+"")&&R(a,i);const y={};if(w&1&&(y.data=b[1]),f.$set(y),w&1){g=b[1].images;let E;for(E=0;E<g.length;E+=1){const A=we(b,g,E);m[E]?m[E].p(A,w):(m[E]=De(A),m[E].c(),m[E].m(c,null))}for(;E<m.length;E+=1)m[E].d(1);m.length=g.length}},i(b){h||(P(f.$$.fragment,b),h=!0)},o(b){T(f.$$.fragment,b),h=!1},d(b){b&&_(t),z(f),F(m,b)}}}function _t(o){let t,n,e=o[0].length>0&&ye(o);return{c(){t=I("div"),e&&e.c(),this.h()},l(l){t=k(l,"DIV",{class:!0});var i=$(t);e&&e.l(i),i.forEach(_),this.h()},h(){d(t,"class","wrapper svelte-mcph04")},m(l,i){D(l,t,i),e&&e.m(t,null),n=!0},p(l,[i]){l[0].length>0?e?(e.p(l,i),i&1&&P(e,1)):(e=ye(l),e.c(),P(e,1),e.m(t,null)):e&&(U(),T(e,1,1,()=>{e=null}),Y())},i(l){n||(P(e),n=!0)},o(l){T(e),n=!1},d(l){l&&_(t),e&&e.d()}}}function gt(o,t,n){let{pages:e=[]}=t;return te(async()=>{console.log(e,344334)}),o.$$set=l=>{"pages"in l&&n(0,e=l.pages)},[e]}class mt extends W{constructor(t){super();J(this,t,gt,_t,K,{pages:0})}}function Pe(o,t,n){const e=o.slice();return e[2]=t[n],e}function Ne(o,t,n){const e=o.slice();return e[5]=t[n],e}function Se(o,t,n){const e=o.slice();return e[8]=t[n],e}function Te(o){let t,n,e;return{c(){t=I("div"),n=I("img"),this.h()},l(l){t=k(l,"DIV",{class:!0});var i=$(t);n=k(i,"IMG",{src:!0,alt:!0,class:!0}),i.forEach(_),this.h()},h(){L(n.src,e=o[8].url)||d(n,"src",e),d(n,"alt",""),d(n,"class","svelte-132ii1v"),d(t,"class","image-container "+o[5]+" svelte-132ii1v")},m(l,i){D(l,t,i),v(t,n)},p(l,i){i&1&&!L(n.src,e=l[8].url)&&d(n,"src",e)},d(l){l&&_(t)}}}function Ce(o){let t,n=o[5]+"",e,l,i,a,r=o[2][o[5]],s=[];for(let f=0;f<r.length;f+=1)s[f]=Te(Se(o,r,f));return{c(){t=I("span"),e=B(n),l=N(),i=I("div");for(let f=0;f<s.length;f+=1)s[f].c();a=N(),this.h()},l(f){t=k(f,"SPAN",{});var u=$(t);e=G(u,n),u.forEach(_),l=S(f),i=k(f,"DIV",{class:!0});var c=$(i);for(let p=0;p<s.length;p+=1)s[p].l(c);a=S(c),c.forEach(_),this.h()},h(){d(i,"class","images-container svelte-132ii1v")},m(f,u){D(f,t,u),v(t,e),D(f,l,u),D(f,i,u);for(let c=0;c<s.length;c+=1)s[c].m(i,null);v(i,a)},p(f,u){if(u&3){r=f[2][f[5]];let c;for(c=0;c<r.length;c+=1){const p=Se(f,r,c);s[c]?s[c].p(p,u):(s[c]=Te(p),s[c].c(),s[c].m(i,a))}for(;c<s.length;c+=1)s[c].d(1);s.length=r.length}},d(f){f&&_(t),f&&_(l),f&&_(i),F(s,f)}}}function Me(o){let t,n,e,l,i;n=new le({props:{data:o[2],options:["Add Photos"]}});let a=o[1],r=[];for(let s=0;s<a.length;s+=1)r[s]=Ce(Ne(o,a,s));return{c(){t=I("div"),O(n.$$.fragment),e=N();for(let s=0;s<r.length;s+=1)r[s].c();l=M(),this.h()},l(s){t=k(s,"DIV",{class:!0});var f=$(t);Z(n.$$.fragment,f),f.forEach(_),e=S(s);for(let u=0;u<r.length;u+=1)r[u].l(s);l=M(),this.h()},h(){d(t,"class","edit-bar")},m(s,f){D(s,t,f),H(n,t,null),D(s,e,f);for(let u=0;u<r.length;u+=1)r[u].m(s,f);D(s,l,f),i=!0},p(s,f){const u={};if(f&1&&(u.data=s[2]),n.$set(u),f&3){a=s[1];let c;for(c=0;c<a.length;c+=1){const p=Ne(s,a,c);r[c]?r[c].p(p,f):(r[c]=Ce(p),r[c].c(),r[c].m(l.parentNode,l))}for(;c<r.length;c+=1)r[c].d(1);r.length=a.length}},i(s){i||(P(n.$$.fragment,s),i=!0)},o(s){T(n.$$.fragment,s),i=!1},d(s){s&&_(t),z(n),s&&_(e),F(r,s),s&&_(l)}}}function pt(o){let t,n,e=o[0],l=[];for(let a=0;a<e.length;a+=1)l[a]=Me(Pe(o,e,a));const i=a=>T(l[a],1,1,()=>{l[a]=null});return{c(){t=I("div");for(let a=0;a<l.length;a+=1)l[a].c();this.h()},l(a){t=k(a,"DIV",{class:!0});var r=$(t);for(let s=0;s<l.length;s+=1)l[s].l(r);r.forEach(_),this.h()},h(){d(t,"class","wrapper svelte-132ii1v")},m(a,r){D(a,t,r);for(let s=0;s<l.length;s+=1)l[s].m(t,null);n=!0},p(a,[r]){if(r&3){e=a[0];let s;for(s=0;s<e.length;s+=1){const f=Pe(a,e,s);l[s]?(l[s].p(f,r),P(l[s],1)):(l[s]=Me(f),l[s].c(),P(l[s],1),l[s].m(t,null))}for(U(),s=e.length;s<l.length;s+=1)i(s);Y()}},i(a){if(!n){for(let r=0;r<e.length;r+=1)P(l[r]);n=!0}},o(a){l=l.filter(Boolean);for(let r=0;r<l.length;r+=1)T(l[r]);n=!1},d(a){a&&_(t),F(l,a)}}}function vt(o,t,n){let{pages:e}=t;const l=["left","right","thumbs"];return te(async()=>{}),o.$$set=i=>{"pages"in i&&n(0,e=i.pages)},[e,l]}class bt extends W{constructor(t){super();J(this,t,vt,pt,K,{pages:0})}}function Ae(o,t,n){const e=o.slice();return e[1]=t[n],e}function Be(o,t,n){const e=o.slice();return e[4]=t[n],e}function Ge(o){let t,n,e=o[0],l=[];for(let a=0;a<e.length;a+=1)l[a]=Le(Ae(o,e,a));const i=a=>T(l[a],1,1,()=>{l[a]=null});return{c(){for(let a=0;a<l.length;a+=1)l[a].c();t=M()},l(a){for(let r=0;r<l.length;r+=1)l[r].l(a);t=M()},m(a,r){for(let s=0;s<l.length;s+=1)l[s].m(a,r);D(a,t,r),n=!0},p(a,r){if(r&1){e=a[0];let s;for(s=0;s<e.length;s+=1){const f=Ae(a,e,s);l[s]?(l[s].p(f,r),P(l[s],1)):(l[s]=Le(f),l[s].c(),P(l[s],1),l[s].m(t.parentNode,t))}for(U(),s=e.length;s<l.length;s+=1)i(s);Y()}},i(a){if(!n){for(let r=0;r<e.length;r+=1)P(l[r]);n=!0}},o(a){l=l.filter(Boolean);for(let r=0;r<l.length;r+=1)T(l[r]);n=!1},d(a){F(l,a),a&&_(t)}}}function Fe(o){let t,n,e,l;return{c(){t=I("div"),n=I("img"),l=N(),this.h()},l(i){t=k(i,"DIV",{class:!0});var a=$(t);n=k(a,"IMG",{src:!0,alt:!0}),l=S(a),a.forEach(_),this.h()},h(){L(n.src,e=o[4].url)||d(n,"src",e),d(n,"alt",""),d(t,"class","image-container")},m(i,a){D(i,t,a),v(t,n),v(t,l)},p(i,a){a&1&&!L(n.src,e=i[4].url)&&d(n,"src",e)},d(i){i&&_(t)}}}function Le(o){let t,n,e,l=o[1].page+"",i,a,r,s,f,u,c,p;s=new le({props:{data:o[1],options:["Add Photos"]}});let h=o[1].images,g=[];for(let m=0;m<h.length;m+=1)g[m]=Fe(Be(o,h,m));return{c(){t=I("div"),n=I("div"),e=I("span"),i=B(l),a=N(),r=I("div"),O(s.$$.fragment),f=N(),u=I("div");for(let m=0;m<g.length;m+=1)g[m].c();c=N(),this.h()},l(m){t=k(m,"DIV",{class:!0});var b=$(t);n=k(b,"DIV",{class:!0});var w=$(n);e=k(w,"SPAN",{});var y=$(e);i=G(y,l),y.forEach(_),a=S(w),r=k(w,"DIV",{class:!0});var E=$(r);Z(s.$$.fragment,E),E.forEach(_),w.forEach(_),f=S(b),u=k(b,"DIV",{class:!0});var A=$(u);for(let V=0;V<g.length;V+=1)g[V].l(A);A.forEach(_),c=S(b),b.forEach(_),this.h()},h(){d(r,"class","edit-bar"),d(n,"class","top-bar"),d(u,"class","images-container"),d(t,"class","phase-container")},m(m,b){D(m,t,b),v(t,n),v(n,e),v(e,i),v(n,a),v(n,r),H(s,r,null),v(t,f),v(t,u);for(let w=0;w<g.length;w+=1)g[w].m(u,null);v(t,c),p=!0},p(m,b){(!p||b&1)&&l!==(l=m[1].page+"")&&R(i,l);const w={};if(b&1&&(w.data=m[1]),s.$set(w),b&1){h=m[1].images;let y;for(y=0;y<h.length;y+=1){const E=Be(m,h,y);g[y]?g[y].p(E,b):(g[y]=Fe(E),g[y].c(),g[y].m(u,null))}for(;y<g.length;y+=1)g[y].d(1);g.length=h.length}},i(m){p||(P(s.$$.fragment,m),p=!0)},o(m){T(s.$$.fragment,m),p=!1},d(m){m&&_(t),z(s),F(g,m)}}}function It(o){let t,n,e,l,i,a,r=o[0].length>0&&Ge(o);return{c(){t=I("div"),n=I("div"),r&&r.c(),e=N(),l=I("style"),i=B(`.wrapper {
  overflow-y: auto;
}

.phase-container {
  margin-top: 30px;
}

.top-bar {
  display: flex;
  align-items: flex-end;
  margin-bottom: 10px;
}
.top-bar .edit-bar {
  margin-left: 30px;
}

.images-container {
  display: flex;
  flex-wrap: wrap;
}
.images-container .image-container {
  width: 100px;
  padding: 2px;
  height: 100px;
}
.images-container .image-container img {
  object-fit: cover;
  width: 100%;
  height: 100%;
}`),this.h()},l(s){t=k(s,"DIV",{class:!0});var f=$(t);n=k(f,"DIV",{class:!0});var u=$(n);r&&r.l(u),u.forEach(_),e=S(f),l=k(f,"STYLE",{lang:!0});var c=$(l);i=G(c,`.wrapper {
  overflow-y: auto;
}

.phase-container {
  margin-top: 30px;
}

.top-bar {
  display: flex;
  align-items: flex-end;
  margin-bottom: 10px;
}
.top-bar .edit-bar {
  margin-left: 30px;
}

.images-container {
  display: flex;
  flex-wrap: wrap;
}
.images-container .image-container {
  width: 100px;
  padding: 2px;
  height: 100px;
}
.images-container .image-container img {
  object-fit: cover;
  width: 100%;
  height: 100%;
}`),c.forEach(_),f.forEach(_),this.h()},h(){d(n,"class","wrapper"),d(l,"lang","scss"),d(t,"class","wrapper")},m(s,f){D(s,t,f),v(t,n),r&&r.m(n,null),v(t,e),v(t,l),v(l,i),a=!0},p(s,[f]){s[0].length>0?r?(r.p(s,f),f&1&&P(r,1)):(r=Ge(s),r.c(),P(r,1),r.m(n,null)):r&&(U(),T(r,1,1,()=>{r=null}),Y())},i(s){a||(P(r),a=!0)},o(s){T(r),a=!1},d(s){s&&_(t),r&&r.d()}}}function kt(o,t,n){let{pages:e}=t;return te(async()=>{console.log(e)}),o.$$set=l=>{"pages"in l&&n(0,e=l.pages)},[e]}class $t extends W{constructor(t){super();J(this,t,kt,It,K,{pages:0})}}function Re(o,t,n){const e=o.slice();return e[1]=t[n],e}function Ue(o,t,n){const e=o.slice();return e[7]=t[n],e}function Ye(o,t,n){const e=o.slice();return e[4]=t[n],e}function je(o,t,n){const e=o.slice();return e[4]=t[n],e}function Et(o){let t,n,e=o[1].phases,l=[];for(let a=0;a<e.length;a+=1)l[a]=Oe(Ue(o,e,a));const i=a=>T(l[a],1,1,()=>{l[a]=null});return{c(){for(let a=0;a<l.length;a+=1)l[a].c();t=M()},l(a){for(let r=0;r<l.length;r+=1)l[r].l(a);t=M()},m(a,r){for(let s=0;s<l.length;s+=1)l[s].m(a,r);D(a,t,r),n=!0},p(a,r){if(r&1){e=a[1].phases;let s;for(s=0;s<e.length;s+=1){const f=Ue(a,e,s);l[s]?(l[s].p(f,r),P(l[s],1)):(l[s]=Oe(f),l[s].c(),P(l[s],1),l[s].m(t.parentNode,t))}for(U(),s=e.length;s<l.length;s+=1)i(s);Y()}},i(a){if(!n){for(let r=0;r<e.length;r+=1)P(l[r]);n=!0}},o(a){l=l.filter(Boolean);for(let r=0;r<l.length;r+=1)T(l[r]);n=!1},d(a){F(l,a),a&&_(t)}}}function wt(o){let t,n=o[1].images,e=[];for(let l=0;l<n.length;l+=1)e[l]=He(je(o,n,l));return{c(){for(let l=0;l<e.length;l+=1)e[l].c();t=M()},l(l){for(let i=0;i<e.length;i+=1)e[i].l(l);t=M()},m(l,i){for(let a=0;a<e.length;a+=1)e[a].m(l,i);D(l,t,i)},p(l,i){if(i&1){n=l[1].images;let a;for(a=0;a<n.length;a+=1){const r=je(l,n,a);e[a]?e[a].p(r,i):(e[a]=He(r),e[a].c(),e[a].m(t.parentNode,t))}for(;a<e.length;a+=1)e[a].d(1);e.length=n.length}},i:X,o:X,d(l){F(e,l),l&&_(t)}}}function qe(o){let t,n,e,l;return{c(){t=I("div"),n=I("img"),l=N(),this.h()},l(i){t=k(i,"DIV",{class:!0});var a=$(t);n=k(a,"IMG",{src:!0,alt:!0,class:!0}),l=S(a),a.forEach(_),this.h()},h(){L(n.src,e=o[4].url)||d(n,"src",e),d(n,"alt",""),d(n,"class","svelte-14uya9k"),d(t,"class","image-container svelte-14uya9k")},m(i,a){D(i,t,a),v(t,n),v(t,l)},p(i,a){a&1&&!L(n.src,e=i[4].url)&&d(n,"src",e)},d(i){i&&_(t)}}}function Oe(o){let t,n,e,l,i=o[7].phase+"",a,r,s,f,u,c,p,h;f=new le({props:{data:x(x({},o[1]),o[7]),options:["Add Photos"]}});let g=o[7].images,m=[];for(let b=0;b<g.length;b+=1)m[b]=qe(Ye(o,g,b));return{c(){t=I("div"),n=I("div"),e=I("span"),l=B("Phase "),a=B(i),r=N(),s=I("div"),O(f.$$.fragment),u=N(),c=I("div");for(let b=0;b<m.length;b+=1)m[b].c();p=N(),this.h()},l(b){t=k(b,"DIV",{class:!0});var w=$(t);n=k(w,"DIV",{class:!0});var y=$(n);e=k(y,"SPAN",{});var E=$(e);l=G(E,"Phase "),a=G(E,i),E.forEach(_),r=S(y),s=k(y,"DIV",{class:!0});var A=$(s);Z(f.$$.fragment,A),A.forEach(_),y.forEach(_),u=S(w),c=k(w,"DIV",{class:!0});var V=$(c);for(let C=0;C<m.length;C+=1)m[C].l(V);V.forEach(_),p=S(w),w.forEach(_),this.h()},h(){d(s,"class","edit-bar"),d(n,"class","top-bar"),d(c,"class","images-container svelte-14uya9k"),d(t,"class","phase-container")},m(b,w){D(b,t,w),v(t,n),v(n,e),v(e,l),v(e,a),v(n,r),v(n,s),H(f,s,null),v(t,u),v(t,c);for(let y=0;y<m.length;y+=1)m[y].m(c,null);v(t,p),h=!0},p(b,w){(!h||w&1)&&i!==(i=b[7].phase+"")&&R(a,i);const y={};if(w&1&&(y.data=x(x({},b[1]),b[7])),f.$set(y),w&1){g=b[7].images;let E;for(E=0;E<g.length;E+=1){const A=Ye(b,g,E);m[E]?m[E].p(A,w):(m[E]=qe(A),m[E].c(),m[E].m(c,null))}for(;E<m.length;E+=1)m[E].d(1);m.length=g.length}},i(b){h||(P(f.$$.fragment,b),h=!0)},o(b){T(f.$$.fragment,b),h=!1},d(b){b&&_(t),z(f),F(m,b)}}}function He(o){let t,n,e,l;return{c(){t=I("div"),n=I("img"),l=N(),this.h()},l(i){t=k(i,"DIV",{class:!0});var a=$(t);n=k(a,"IMG",{loading:!0,src:!0,alt:!0,class:!0}),l=S(a),a.forEach(_),this.h()},h(){d(n,"loading","lazy"),L(n.src,e=o[4].url)||d(n,"src",e),d(n,"alt",""),d(n,"class","svelte-14uya9k"),d(t,"class","image-container svelte-14uya9k")},m(i,a){D(i,t,a),v(t,n),v(t,l)},p(i,a){a&1&&!L(n.src,e=i[4].url)&&d(n,"src",e)},d(i){i&&_(t)}}}function ze(o){let t,n,e,l,i,a=re.startCase(o[1].page)+"",r,s,f=o[1].type+"",u,c,p,h,g,m,b,w;e=new le({props:{data:o[1],options:["Add Photos"]}});const y=[wt,Et],E=[];function A(V,C){return V[1].page!=="behind-the-scenes"?0:1}return g=A(o),m=E[g]=y[g](o),{c(){t=I("div"),n=I("div"),O(e.$$.fragment),l=N(),i=I("span"),r=B(a),s=B(" ("),u=B(f),c=B(")"),p=N(),h=I("div"),m.c(),b=N(),this.h()},l(V){t=k(V,"DIV",{class:!0});var C=$(t);n=k(C,"DIV",{class:!0});var ne=$(n);Z(e.$$.fragment,ne),ne.forEach(_),l=S(C),i=k(C,"SPAN",{class:!0});var q=$(i);r=G(q,a),s=G(q," ("),u=G(q,f),c=G(q,")"),q.forEach(_),C.forEach(_),p=S(V),h=k(V,"DIV",{class:!0});var ie=$(h);m.l(ie),b=S(ie),ie.forEach(_),this.h()},h(){d(n,"class","edit-bar svelte-14uya9k"),d(i,"class","category-name text-decoration-underline svelte-14uya9k"),d(t,"class","flex-container svelte-14uya9k"),d(h,"class","images-container svelte-14uya9k")},m(V,C){D(V,t,C),v(t,n),H(e,n,null),v(t,l),v(t,i),v(i,r),v(i,s),v(i,u),v(i,c),D(V,p,C),D(V,h,C),E[g].m(h,null),v(h,b),w=!0},p(V,C){const ne={};C&1&&(ne.data=V[1]),e.$set(ne),(!w||C&1)&&a!==(a=re.startCase(V[1].page)+"")&&R(r,a),(!w||C&1)&&f!==(f=V[1].type+"")&&R(u,f);let q=g;g=A(V),g===q?E[g].p(V,C):(U(),T(E[q],1,1,()=>{E[q]=null}),Y(),m=E[g],m?m.p(V,C):(m=E[g]=y[g](V),m.c()),P(m,1),m.m(h,b))},i(V){w||(P(e.$$.fragment,V),P(m),w=!0)},o(V){T(e.$$.fragment,V),T(m),w=!1},d(V){V&&_(t),z(e),V&&_(p),V&&_(h),E[g].d()}}}function yt(o){let t,n,e=o[0],l=[];for(let a=0;a<e.length;a+=1)l[a]=ze(Re(o,e,a));const i=a=>T(l[a],1,1,()=>{l[a]=null});return{c(){t=I("div");for(let a=0;a<l.length;a+=1)l[a].c();this.h()},l(a){t=k(a,"DIV",{class:!0});var r=$(t);for(let s=0;s<l.length;s+=1)l[s].l(r);r.forEach(_),this.h()},h(){d(t,"class","wrapper svelte-14uya9k")},m(a,r){D(a,t,r);for(let s=0;s<l.length;s+=1)l[s].m(t,null);n=!0},p(a,[r]){if(r&1){e=a[0];let s;for(s=0;s<e.length;s+=1){const f=Re(a,e,s);l[s]?(l[s].p(f,r),P(l[s],1)):(l[s]=ze(f),l[s].c(),P(l[s],1),l[s].m(t,null))}for(U(),s=e.length;s<l.length;s+=1)i(s);Y()}},i(a){if(!n){for(let r=0;r<e.length;r+=1)P(l[r]);n=!0}},o(a){l=l.filter(Boolean);for(let r=0;r<l.length;r+=1)T(l[r]);n=!1},d(a){a&&_(t),F(l,a)}}}function Dt(o,t,n){let{pages:e}=t;return te(async()=>{}),o.$$set=l=>{"pages"in l&&n(0,e=l.pages)},[e]}class Vt extends W{constructor(t){super();J(this,t,Dt,yt,K,{pages:0})}}function We(o){let t,n;return t=new it({}),{c(){O(t.$$.fragment)},l(e){Z(t.$$.fragment,e)},m(e,l){H(t,e,l),n=!0},i(e){n||(P(t.$$.fragment,e),n=!0)},o(e){T(t.$$.fragment,e),n=!1},d(e){z(t,e)}}}function Pt(o){let t,n,e,l,i,a,r=o[2].visible&&We();e=new le({props:{options:o[3][o[1]].options}});var s=o[3][o[1]].component;function f(u){return{props:{pages:u[0]}}}return s&&(i=new s(f(o))),{c(){r&&r.c(),t=N(),n=I("div"),O(e.$$.fragment),l=N(),i&&O(i.$$.fragment),this.h()},l(u){r&&r.l(u),t=S(u),n=k(u,"DIV",{class:!0});var c=$(n);Z(e.$$.fragment,c),l=S(c),i&&Z(i.$$.fragment,c),c.forEach(_),this.h()},h(){d(n,"class","page-wrapper svelte-uaefda")},m(u,c){r&&r.m(u,c),D(u,t,c),D(u,n,c),H(e,n,null),v(n,l),i&&H(i,n,null),a=!0},p(u,[c]){u[2].visible?r?c&4&&P(r,1):(r=We(),r.c(),P(r,1),r.m(t.parentNode,t)):r&&(U(),T(r,1,1,()=>{r=null}),Y());const p={};c&2&&(p.options=u[3][u[1]].options),e.$set(p);const h={};if(c&1&&(h.pages=u[0]),s!==(s=u[3][u[1]].component)){if(i){U();const g=i;T(g.$$.fragment,1,0,()=>{z(g,1)}),Y()}s?(i=new s(f(u)),O(i.$$.fragment),P(i.$$.fragment,1),H(i,n,null)):i=null}else s&&i.$set(h)},i(u){a||(P(r),P(e.$$.fragment,u),i&&P(i.$$.fragment,u),a=!0)},o(u){T(r),T(e.$$.fragment,u),i&&T(i.$$.fragment,u),a=!1},d(u){r&&r.d(u),u&&_(t),u&&_(n),z(e),i&&z(i)}}}async function Mt({params:o,fetch:t,session:n,stuff:e}){const l=o.page;let i;se.update(s=>(s.currentTable=s.categories[l],i=s.categories[l].category,s));const a=await t(`${oe}/api/${i}`),r=await a.json();return a.ok?{status:200,props:{currentPage:i,page:r}}:{status:404,error:new Error("Could not load")}}function Nt(o,t,n){let e,l;ee(o,me,c=>n(7,e=c)),ee(o,se,c=>n(9,c)),ee(o,j,c=>n(2,l=c));let{page:i}=t,{columns:a}=t,{data:r}=t,{cursor:s}=t,{currentPage:f}=t;const u={"bg-pages":{component:dt,options:[]},"behind-the-scenes":{component:mt,options:["Add Phase"]},"carousel-renders":{component:bt,options:["Add photos"]},"page-carousels":{component:$t,options:["Add photos"]},mobile:{component:Vt,options:["Add photos"]}};return o.$$set=c=>{"page"in c&&n(0,i=c.page),"columns"in c&&n(4,a=c.columns),"data"in c&&n(5,r=c.data),"cursor"in c&&n(6,s=c.cursor),"currentPage"in c&&n(1,f=c.currentPage)},o.$$.update=()=>{o.$$.dirty&128&&e.draggingItemIndex!=null&&e.hoveredItemIndex!=null&&e.draggingItemIndex!=e.hoveredItemIndex&&([rows[e.draggingItemIndex],rows[e.hoveredItemIndex]]=[rows[e.hoveredItemIndex],rows[e.draggingItemIndex]],ae(me,e.draggingItemIndex=e.hoveredItemIndex,e))},[i,f,l,u,a,r,s,e]}class At extends W{constructor(t){super();J(this,t,Nt,Pt,K,{page:0,columns:4,data:5,cursor:6,currentPage:1})}}export{At as default,Mt as load};
